# üöÇ RZhD Scripts - –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –†–æ—Å—Å–∏–π—Å–∫–∏—Ö –∂–µ–ª–µ–∑–Ω—ã—Ö –¥–æ—Ä–æ–≥

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–∑–æ–∫ –†–ñ–î. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Excel-—Ñ–∞–π–ª–æ–≤ —Å –æ—Ç—á–µ—Ç–∞–º–∏ –æ –ø–µ—Ä–µ–≤–æ–∑–∫–∞—Ö –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON-–¥–∞–Ω–Ω—ã–µ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üîß –ë–ª–æ–∫–∏ —Ä–∞–±–æ—Ç

1. **üì¶ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ö–¢–ö** (`rzhd_ktk.py`) - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–∑–æ–∫
2. **üìÖ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (`rzhd_weekly.py`) - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
3. **üåç –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º**:
   - üè≠ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫ (`rzhd_novorossiysk.sh`)
   - üèõÔ∏è –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (`rzhd_petersburg.sh`)
4. **‚ö° –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** (`rzhd.py`) - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–ø–æ–∫ —Å –≤—Ö–æ–¥—è—â–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ Excel (.xls, .xlsx, .xlsb)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ClickHouse –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
rzhd_scripts/
‚îú‚îÄ‚îÄ scripts/                    # Python –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ rzhd.py                # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ rzhd_ktk.py            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ö–¢–ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ rzhd_weekly.py         # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ headers.py             # Mapping –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ app_logger.py          # –ú–æ–¥—É–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îú‚îÄ‚îÄ bash/                      # Bash —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ run_rzhd.sh           # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ rzhd_ktk.sh           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ö–¢–ö
‚îÇ   ‚îú‚îÄ‚îÄ rzhd_novorossiysk.sh  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ rzhd_petersburg.sh    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –°–ü–±
‚îÇ   ‚îî‚îÄ‚îÄ rzhd_weekly.sh        # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ Dockerfile                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                 # –î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **üêç Python 3.8+** - –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **üê≥ Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **üìù Bash** - –°–∫—Ä–∏–ø—Ç—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
- **üóÑÔ∏è ClickHouse** - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### üìö Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```
pandas==1.4.3          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
numpy==1.23.3           # –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è  
openpyxl==3.1.1         # –†–∞–±–æ—Ç–∞ —Å .xlsx —Ñ–∞–π–ª–∞–º–∏
pyxlsb==1.0.10          # –†–∞–±–æ—Ç–∞ —Å .xlsb —Ñ–∞–π–ª–∞–º–∏
xlrd==2.0.1             # –†–∞–±–æ—Ç–∞ —Å .xls —Ñ–∞–π–ª–∞–º–∏
clickhouse-connect==0.5.14  # –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä –∫ ClickHouse
requests~=2.31.0        # HTTP –∑–∞–ø—Ä–æ—Å—ã
notifiers==1.3.3        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
python-dotenv==1.0.0    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **üê≥ Docker** –∏ **Docker Compose**
2. **üêç Python 3.8+** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. **üóÑÔ∏è ClickHouse** —Å–µ—Ä–≤–µ—Ä (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)

### üåç –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```bash
cp .env.example .env
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—Ä—É—á–Ω—É—é:

```bash
# –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º
XL_IDP_ROOT_RZHD=/path/to/rzhd/scripts
XL_IDP_PATH_RZHD=/path/to/input/data
XL_IDP_PATH_DOCKER=/path/to/docker/data
XL_IDP_PATH_RZHD_SCRIPTS=/path/to/rzhd/scripts

# ClickHouse –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CLICKHOUSE_HOST=your_host
CLICKHOUSE_PORT=your_port
CLICKHOUSE_DATABASE=your_database
CLICKHOUSE_USER=your_user
CLICKHOUSE_PASSWORD=your_password

# Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
TELEGRAM_BOT_TOKEN=your_bot_token
TOKEN_TELEGRAM=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

### üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### üê≥ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

1. **üî® –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å Docker Compose:**

```yaml
version: "3.9"
services:
    rzhd:
        container_name: rzhd
        restart: always
        ports:
        - "8100:8100"
        volumes:
        - ${XL_IDP_PATH_RZHD_SCRIPTS}:${XL_IDP_PATH_DOCKER}
        - ${XL_IDP_ROOT_RZHD}:${XL_IDP_PATH_RZHD}
        environment:
        XL_IDP_ROOT_RZHD: ${XL_IDP_PATH_DOCKER}
        XL_IDP_PATH_RZHD: ${XL_IDP_PATH_RZHD}
        TOKEN_TELEGRAM: ${TOKEN_TELEGRAM}
        build:
        context: rzhd
        dockerfile: ./Dockerfile
        args:
            XL_IDP_PATH_DOCKER: ${XL_IDP_PATH_DOCKER}
        command:
        bash -c "sh ${XL_IDP_PATH_DOCKER}/bash/run_rzhd.sh"
        networks:
        - postgres
```

```bash
docker-compose up -d --build
```

2. **üìÑ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
docker-compose logs -f rzhd
```

3. **‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞:**
```bash
docker-compose down
```

#### üê≥ Docker (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

1. **üî® –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:**
```bash
docker build -t rzhd-scripts .
```

2. **‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**
```bash
docker run -d \
  --name rzhd-processor \
  -v /path/to/data:/data \
  -v /path/to/logs:/app/logging \
  --env-file .env \
  rzhd-scripts
```

#### üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **üèóÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

2. **üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install -r requirements.txt
```

3. **üöÄ –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
bash/run_rzhd.sh

# –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
bash/rzhd_ktk.sh
bash/rzhd_weekly.sh
```

### üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose

–§–∞–π–ª `docker-compose.yml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:

- **üîó –°–µ—Ç—å**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–µ–π —Å–µ—Ç–∏ `postgres` –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **üìÇ Volumes**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏
- **üîÑ Restart Policy**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- **üö™ –ü–æ—Ä—Ç—ã**: –≠–∫—Å–ø–æ—Ä—Ç –ø–æ—Ä—Ç–∞ 8100 –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- **üåç Environment**: –ü–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env` —Ñ–∞–π–ª–∞

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –æ–∂–∏–¥–∞–µ—Ç Excel —Ñ–∞–π–ª—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:
```
${XL_IDP_PATH_RZHD}/
‚îú‚îÄ‚îÄ rzhd_ktk/           # –ö–¢–ö –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ rzhd_novorossiysk/  # –î–∞–Ω–Ω—ã–µ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫–∞  
‚îú‚îÄ‚îÄ rzhd_petersburg/    # –î–∞–Ω–Ω—ã–µ –°–ü–±
‚îî‚îÄ‚îÄ rzhd_weekly/        # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
```

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **üëÄ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤** - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ .xls/.xlsx/.xlsb —Ñ–∞–π–ª—ã
2. **‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤
3. **üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
4. **üì§ –ó–∞–≥—Ä—É–∑–∫–∞** - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ ClickHouse
5. **üì¶ –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫—É `done/`
6. **üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ Telegram

### üìÑ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏:
```json
{
  "departure_date": "2024-01-15",
  "arrival_date": "2024-01-20", 
  "cargo_name": "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 20 —Ñ—É—Ç–æ–≤",
  "shipper_okpo": "12345678",
  "consignee_okpo": "87654321",
  "transportation_volume_tons": 25.5,
  "wagon_number": "12345678",
  "container_no": "ABCD1234567"
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìù –õ–æ–≥–∏
–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `${XL_IDP_ROOT_RZHD}/logging/`:
- üìÑ `rzhd.log` - –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- üì¶ `rzhd_ktk.log` - –ö–¢–ö –æ–±—Ä–∞–±–æ—Ç–∫–∞
- üìÖ `rzhd_weekly.log` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### üö® –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
- ‚ùå –û—à–∏–±–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `error_`
- üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram
- üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

#### üìö –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `Rzhd`
```python
class Rzhd:
    def __init__(self, filename: str, folder: str)
    def convert_to_float(value: str) -> Union[float, None]
    def convert_to_int(value: str) -> Union[int, None]
    def divide_chunks(list_data: list, chunk: int) -> Generator
```

#### üîß –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- üì¶ `RzhdKTK(Rzhd)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üìÖ `RzhdWeekly(Rzhd)` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **üìù –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Python –º–æ–¥—É–ª—å** –≤ `scripts/`
2. **üîó –ù–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞** `Rzhd`
3. **üìù –î–æ–±–∞–≤—å—Ç–µ bash —Å–∫—Ä–∏–ø—Ç** –≤ `bash/`
4. **üîÑ –û–±–Ω–æ–≤–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç** `run_rzhd.sh`

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
python3 scripts/rzhd_ktk.py /path/to/test/file.xlsx /path/to/output/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f logging/rzhd_ktk.log
```